# üéØ –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π (–ø—Ä—è–º–æ —Å–µ–π—á–∞—Å)

## –ü—Ä–æ–±–ª–µ–º—ã —Å–µ–π—á–∞—Å:
1. ‚úÖ "–í–∏–∂—É JSON –≤–º–µ—Å—Ç–æ —Å–∞–π—Ç–∞" ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—à—å **–±—ç–∫–µ–Ω–¥**, –∞ –Ω–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
2. ‚úÖ "–ò–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç" ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ, –Ω—É–∂–µ–Ω —Ä–µ–¥–µ–ø–ª–æ–π
3. ‚ùì "–ù–µ—Ç –∫—Ä–∞—Å–∏–≤–æ–≥–æ –¥–æ–º–µ–Ω–∞" ‚Äî –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å

---

## –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ Railway (–≥–ª–∞–≤–Ω–æ–µ!)

### 1.1. –°–æ–∑–¥–∞—Ç—å frontend —Å–µ—Ä–≤–∏—Å

```bash
Railway Dashboard ‚Üí New ‚Üí Deploy from GitHub repo
```

1. **Repository**: –≤—ã–±–µ—Ä–∏ `BESTMoscowBot` (—Ç–≤–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
2. **Root Directory**: —É–∫–∞–∂–∏ `BEST PR System/frontend`
3. **Service Name**: –Ω–∞–∑–æ–≤–∏ `best-pr-frontend`
4. –ù–∞–∂–º–∏ **Deploy**

### 1.2. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è frontend

```bash
Railway ‚Üí best-pr-frontend ‚Üí Variables ‚Üí New Variable
```

–î–æ–±–∞–≤—å:
```
VITE_API_URL = https://best-pr-system.up.railway.app/api/v1
```

–ù–∞–∂–º–∏ **Add** ‚Üí Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–±–∏–ª–¥–∏—Ç.

### 1.3. –ü–æ–ª—É—á–∏—Ç—å URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:
```bash
Railway ‚Üí best-pr-frontend ‚Üí Settings ‚Üí Networking ‚Üí Domains
```

Railway –¥–∞—Å—Ç URL —Ç–∏–ø–∞:
```
best-pr-frontend-production-abc123.up.railway.app
```

**–°–∫–æ–ø–∏—Ä—É–π —ç—Ç–æ—Ç URL!**

### 1.4. –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ backend

```bash
Railway ‚Üí best-pr-system (backend) ‚Üí Variables ‚Üí New Variable
```

–î–æ–±–∞–≤—å:
```
FRONTEND_URL = https://best-pr-frontend-production-abc123.up.railway.app
```

(–ü–æ–¥—Å—Ç–∞–≤—å —Å–≤–æ–π URL –∏–∑ —à–∞–≥–∞ 1.3)

–ù–∞–∂–º–∏ **Add** ‚Üí Railway —Ä–µ–±–∏–ª–¥–∏—Ç –±—ç–∫–µ–Ω–¥.

---

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫—Ä–∞—Å–∏–≤—ã–π –¥–æ–º–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –ø–æ–∑–∂–µ)

### –í–∞—Ä–∏–∞–Ω—Ç A: –ö—É–ø–∏—Ç—å —Å–≤–æ–π –¥–æ–º–µ–Ω (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–ö—É–ø–∏ –¥–æ–º–µ–Ω –Ω–∞ REG.RU**:
   - `bestpr.moscow` ‚Äî 500‚ÇΩ/–≥–æ–¥
   - `best-moscow.ru` ‚Äî 199‚ÇΩ/–≥–æ–¥
   - `best-pr-system.ru` ‚Äî 199‚ÇΩ/–≥–æ–¥

2. **–ù–∞—Å—Ç—Ä–æ–π DNS** (–≤ –ø–∞–Ω–µ–ª–∏ REG.RU):
   ```
   Type: CNAME
   Name: @
   Value: best-pr-frontend-production-abc123.up.railway.app
   TTL: 3600
   ```

3. **–î–æ–±–∞–≤—å –¥–æ–º–µ–Ω –≤ Railway**:
   ```bash
   Railway ‚Üí best-pr-frontend ‚Üí Settings ‚Üí Networking ‚Üí Custom Domain
   ```
   
   –í–≤–µ–¥–∏: `bestpr.moscow` ‚Üí –Ω–∞–∂–º–∏ **Add**

4. **–ñ–¥–∏ 5-30 –º–∏–Ω—É—Ç** ‚Äî DNS –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

5. **–û–±–Ω–æ–≤–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**:
   ```bash
   # Backend:
   FRONTEND_URL = https://bestpr.moscow
   CORS_ORIGINS = https://bestpr.moscow
   
   # Frontend (–µ—Å–ª–∏ API —Ç–æ–∂–µ –Ω–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–º –¥–æ–º–µ–Ω–µ):
   VITE_API_URL = https://api.bestpr.moscow/api/v1
   ```

### –í–∞—Ä–∏–∞–Ω—Ç B: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Railway –ø–æ–¥–¥–æ–º–µ–Ω—ã (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

–û—Å—Ç–∞–≤—å –∫–∞–∫ –µ—Å—Ç—å:
- Frontend: `best-pr-frontend-production-abc123.up.railway.app`
- Backend: `best-pr-system.up.railway.app`

–≠—Ç–æ **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π –≤–∞—Ä–∏–∞–Ω—Ç**, –ø—Ä–æ—Å—Ç–æ URL –¥–ª–∏–Ω–Ω–µ–µ.

---

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Google Sheets —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é (–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ)

### 3.1. –î–∞—Ç—å –¥–æ—Å—Ç—É–ø service accounts –∫ —Ç–∞–±–ª–∏—Ü–µ

1. –û—Ç–∫—Ä–æ–π —Ç–∞–±–ª–∏—Ü—É: https://docs.google.com/spreadsheets/d/1nNqA_cvUnzPADO3DcwD6ldzHIwnghR7ypKuzec4bk0I/edit
2. –ù–∞–∂–º–∏ **Share** (–ü–æ–¥–µ–ª–∏—Ç—å—Å—è)
3. –î–æ–±–∞–≤—å email –∫–∞–∂–¥–æ–≥–æ service account:
   - `xxx@yyy.iam.gserviceaccount.com` (–∏–∑ credentials-1.json, –ø–æ–ª–µ `client_email`)
   - –ü–æ–≤—Ç–æ—Ä–∏ –¥–ª—è –≤—Å–µ—Ö 5 service accounts
4. –ü—Ä–∞–≤–∞: **Editor** (–†–µ–¥–∞–∫—Ç–æ—Ä)
5. –ù–∞–∂–º–∏ **Send**

### 3.2. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –Ω–∞ Railway

```bash
Railway ‚Üí backend ‚Üí Variables ‚Üí New Variable
```

–î–æ–±–∞–≤—å:
```
GOOGLE_EQUIPMENT_SHEETS_ID = 1nNqA_cvUnzPADO3DcwD6ldzHIwnghR7ypKuzec4bk0I
```

### 3.3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

–ü–æ—Å–ª–µ —Ä–µ–¥–µ–ø–ª–æ—è:
1. –°–æ–∑–¥–∞–π –∑–∞—è–≤–∫—É –Ω–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ API
2. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –æ–Ω–∞ –ø–æ—è–≤–∏–ª–∞—Å—å –≤ –ª–∏—Å—Ç–µ "–ó–∞—è–≤–∫–∏ –Ω–∞ –æ–±–æ—Ä—É–¥–∫—É"
3. –û–¥–æ–±—Ä–∏ –∑–∞—è–≤–∫—É
4. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –∑–∞–ø–∏—Å—å –ø–æ—è–≤–∏–ª–∞—Å—å –≤ "–ò—Å—Ç–æ—Ä–∏—è –æ–±–æ—Ä—É–¥–∫–∏"

---

## –®–∞–≥ 4: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å—ë

### 4.1. –ë–æ—Ç

1. –í—ã–ø–æ–ª–Ω–∏ `/start` –≤ –±–æ—Ç–µ
2. –ü—Ä–æ–≤–µ—Ä—å:
   - ‚úÖ –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –∂–∏—Ä–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º
   - ‚úÖ –ò–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
   - ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è" ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è **—Å–∞–π—Ç** (React), –∞ –Ω–µ JSON

### 4.2. –°–∞–π—Ç

1. –û—Ç–∫—Ä–æ–π `https://best-pr-frontend-production-abc123.up.railway.app/` (—Ç–≤–æ–π URL)
2. –ü—Ä–æ–≤–µ—Ä—å:
   - ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è React –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
   - ‚úÖ –ú–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–¥–∞—á–∏, —Ä–µ–π—Ç–∏–Ω–≥, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
   - ‚úÖ –ú–æ–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è

### 4.3. API

1. –û—Ç–∫—Ä–æ–π `https://best-pr-system.up.railway.app/docs`
2. –ü—Ä–æ–≤–µ—Ä—å:
   - ‚úÖ Swagger UI —Ä–∞–±–æ—Ç–∞–µ—Ç
   - ‚úÖ –ú–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å `/public/tasks`, `/public/leaderboard`, `/public/stats`

---

## –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ (—á—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å)

### –ú–∏–Ω–∏–º—É–º (—á—Ç–æ–±—ã –∑–∞—Ä–∞–±–æ—Ç–∞–ª–æ):

1. **–°–æ–∑–¥–∞–π frontend —Å–µ—Ä–≤–∏—Å –Ω–∞ Railway** (–®–∞–≥ 1.1-1.3)
2. **–î–æ–±–∞–≤—å `VITE_API_URL`** –≤ frontend (–®–∞–≥ 1.2)
3. **–î–æ–±–∞–≤—å `FRONTEND_URL`** –≤ backend (–®–∞–≥ 1.4)
4. **–û—Ç–∫—Ä–æ–π URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞** ‚Üí –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–∞–π—Ç, –∞ –Ω–µ JSON

### –ü–æ—Ç–æ–º (–¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è):

5. **–ö—É–ø–∏ –¥–æ–º–µ–Ω** (–®–∞–≥ 2, –í–∞—Ä–∏–∞–Ω—Ç A) ‚Äî –∏–ª–∏ –æ—Å—Ç–∞–≤—å Railway URL
6. **–ù–∞—Å—Ç—Ä–æ–π Google Sheets** (–®–∞–≥ 3) ‚Äî –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
7. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –≤—Å—ë** (–®–∞–≥ 4)

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `FRONTEND_URL_SETUP.md` ‚Äî –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- `CUSTOM_DOMAIN_SETUP.md` ‚Äî –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–≤–æ–π –¥–æ–º–µ–Ω
- `EQUIPMENT_SYNC_PLAN.md` ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è —Å Google Sheets
- `QUICK_FIX_SUMMARY.md` ‚Äî —á—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–¥–µ

---

## –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** –Ω–∞ Railway (Variables)
2. **–ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏** (Railway ‚Üí Service ‚Üí Deployments ‚Üí Logs)
3. **–ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å–æ–±—Ä–∞–ª—Å—è** (Build Logs –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫)
4. **–£–±–µ–¥–∏—Å—å, —á—Ç–æ API —Ä–∞–±–æ—Ç–∞–µ—Ç**: `https://best-pr-system.up.railway.app/health` –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å `{"status": "healthy"}`
