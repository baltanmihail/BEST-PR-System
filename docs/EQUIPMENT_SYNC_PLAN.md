# üì¶ –ü–ª–∞–Ω —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è —Å Google Sheets

## –¢–∞–±–ª–∏—Ü–∞ "–£—á—ë—Ç –æ–±–æ—Ä—É–¥–∫–∏"

**ID**: `1nNqA_cvUnzPADO3DcwD6ldzHIwnghR7ypKuzec4bk0I`  
**–°—Å—ã–ª–∫–∞**: https://docs.google.com/spreadsheets/d/1nNqA_cvUnzPADO3DcwD6ldzHIwnghR7ypKuzec4bk0I/edit

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–∏—Å—Ç–æ–≤:

1. **–í—Å—è –æ–±–æ—Ä—É–¥–∫–∞** ‚Äî —Å–ø–∏—Å–æ–∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
   - –ö–æ–ª–æ–Ω–∫–∏: `–ù–æ–º–µ—Ä | –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ | –§–æ—Ç–æ | –°—Ç–∞—Ç—É—Å`
   
2. **–ó–∞–ø–∏—Å—å –Ω–∞ –æ–±–æ—Ä—É–¥–∫—É** ‚Äî —Ç–µ–∫—É—â–∏–µ –≤—ã–¥–∞—á–∏
   
3. **–ò—Å—Ç–æ—Ä–∏—è –æ–±–æ—Ä—É–¥–∫–∏** ‚Äî –∞—Ä—Ö–∏–≤ –≤—ã–¥–∞—á
   - –ö–æ–ª–æ–Ω–∫–∏: `–ù–æ–º–µ—Ä –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è | –ù–∞–∑–≤–∞–Ω–∏–µ | –ö—Ç–æ –±—Ä–∞–ª | –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏ | –î–∞—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π`
   
4. **–ó–∞—è–≤–∫–∏ –Ω–∞ –æ–±–æ—Ä—É–¥–∫—É** ‚Äî –æ—á–µ—Ä–µ–¥—å –∑–∞—è–≤–æ–∫
   - –ö–æ–ª–æ–Ω–∫–∏: `–ù–æ–º–µ—Ä –∑–∞—è–≤–∫–∏ | –ß—Ç–æ –±–µ—Ä—ë—Ç | –ö—Ç–æ –±–µ—Ä—ë—Ç | –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏ | –î–∞—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ | –î–∞—Ç–∞ —Å—ä—ë–º–∫–∏ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | –°—Ç–∞—Ç—É—Å`
   
5. **–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è** ‚Äî –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å

---

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ BEST Channel Bot

–ò–∑ –∫–æ–¥–∞ `google_sheets.py` (—Å—Ç–∞—Ä—ã–π –±–æ—Ç):

‚úÖ **–ß—Ç–µ–Ω–∏–µ**:
- `get_equipment_list()` ‚Äî —Å–ø–∏—Å–æ–∫ –≤—Å–µ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏–∑ "–í—Å—è –æ–±–æ—Ä—É–¥–∫–∞"
- `get_available_equipment()` ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –Ω–∞ –¥–∞—Ç—ã
- `get_booked_dates()` ‚Äî –∑–∞–Ω—è—Ç—ã–µ –¥–∞—Ç—ã –∏–∑ –∫–∞–ª–µ–Ω–¥–∞—Ä—è

‚úÖ **–ó–∞–ø–∏—Å—å**:
- `submit_application()` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É –≤ "–ó–∞—è–≤–∫–∏ –Ω–∞ –æ–±–æ—Ä—É–¥–∫—É"
- `update_application_status()` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ (–æ–¥–æ–±—Ä–µ–Ω–∞/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∞)
- `_update_equipment_status_on_approval()` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤ "–ó–∞–ø–∏—Å—å –Ω–∞ –æ–±–æ—Ä—É–¥–∫—É"
- `_log_to_history()` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –≤ "–ò—Å—Ç–æ—Ä–∏—è –æ–±–æ—Ä—É–¥–∫–∏"

‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**:
- `update_equipment_statuses_by_date()` ‚Äî –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–æ –¥–∞—Ç–∞–º

---

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤ BEST PR System

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (—Å–¥–µ–ª–∞—é —Å–µ–π—á–∞—Å)

**–§–∞–π–ª**: `backend/app/services/equipment_sheets_sync.py`

**–§—É–Ω–∫—Ü–∏–∏**:
1. `log_equipment_request()` ‚Äî –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ ‚Üí –∑–∞–ø–∏—Å—å –≤ "–ó–∞—è–≤–∫–∏ –Ω–∞ –æ–±–æ—Ä—É–¥–∫—É"
2. `update_request_status()` ‚Äî –ø—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å
3. `log_to_history()` ‚Äî –ø—Ä–∏ –≤—ã–¥–∞—á–µ ‚Üí –∑–∞–ø–∏—Å—å –≤ "–ò—Å—Ç–æ—Ä–∏—è –æ–±–æ—Ä—É–¥–∫–∏"
4. `sync_equipment_from_sheets()` ‚Äî –∏–º–ø–æ—Ä—Ç –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏–∑ Sheets ‚Üí –ë–î (–æ–¥–∏–Ω —Ä–∞–∑)

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**:
- –í `app/api/equipment.py`:
  - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ `EquipmentRequest` ‚Üí –≤—ã–∑–æ–≤ `log_equipment_request()`
  - –ü—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏ ‚Üí –≤—ã–∑–æ–≤ `update_request_status()` + `log_to_history()`
  - –ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏

---

### –≠—Ç–∞–ø 2: –ö–∞–ª–µ–Ω–¥–∞—Ä—å (—Å–ª–æ–∂–Ω–µ–µ)

**–§—É–Ω–∫—Ü–∏—è**: `update_calendar()` ‚Äî –≤–ø–∏—Å–∞—Ç—å –Ω–æ–º–µ—Ä –∑–∞—è–≤–∫–∏ –≤ –Ω—É–∂–Ω—ã–µ –¥–∞—Ç—ã

**–°–ª–æ–∂–Ω–æ—Å—Ç—å**:
- –ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∫–æ–ª–æ–Ω–∫–∏ —Å –Ω—É–∂–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏ (01.01, 02.01, ...)
- –í–ø–∏—Å–∞—Ç—å –Ω–æ–º–µ—Ä –∑–∞—è–≤–∫–∏ –≤ —è—á–µ–π–∫–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è "–ù–æ–º–µ—Ä –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è √ó –î–∞—Ç–∞"
- –û–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞—Ç

---

### –≠—Ç–∞–ø 3: –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–§—É–Ω–∫—Ü–∏—è**: Webhook –∏–ª–∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π sync

**–¶–µ–ª—å**: –ï—Å–ª–∏ –≤ Sheets –∏–∑–º–µ–Ω–∏–ª–∏ —Å—Ç–∞—Ç—É—Å ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å –≤ –ë–î

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ Railway:

```bash
# ID —Ç–∞–±–ª–∏—Ü—ã "–£—á—ë—Ç –æ–±–æ—Ä—É–¥–∫–∏"
GOOGLE_EQUIPMENT_SHEETS_ID=1nNqA_cvUnzPADO3DcwD6ldzHIwnghR7ypKuzec4bk0I

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–π GOOGLE_SHEETS_ID, –µ—Å–ª–∏ —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞
GOOGLE_SHEETS_ID=1nNqA_cvUnzPADO3DcwD6ldzHIwnghR7ypKuzec4bk0I
```

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –°–æ–∑–¥–∞–Ω `equipment_sheets_sync.py` —Å –±–∞–∑–æ–≤—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
2. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `app/api/equipment.py`
3. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `GOOGLE_EQUIPMENT_SHEETS_ID` –Ω–∞ Railway
4. ‚è≥ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å service accounts —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ —Ç–∞–±–ª–∏—Ü–µ
5. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

---

## –í–∞–∂–Ω–æ

- **Service accounts** –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–µ (Share ‚Üí –¥–æ–±–∞–≤–∏—Ç—å email service account ‚Üí Editor)
- **–§–æ—Ä–º—É–ª—ã** `='–í—Å—è –æ–±–æ—Ä—É–¥–∫–∞'!CX` ‚Äî —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Å–≤—è–∑—å –º–µ–∂–¥—É –ª–∏—Å—Ç–∞–º–∏
- **–ö–∞–ª–µ–Ω–¥–∞—Ä—å** ‚Äî —Å–∞–º–∞—è —Å–ª–æ–∂–Ω–∞—è —á–∞—Å—Ç—å (–º–Ω–æ–≥–æ –¥–∞—Ç, –Ω—É–∂–Ω–∞ —É–º–Ω–∞—è –ª–æ–≥–∏–∫–∞)

–•–æ—á–µ—à—å, –Ω–∞—á–Ω—ë–º —Å –≠—Ç–∞–ø–∞ 1 (–±–∞–∑–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)?
