# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è —Å Google Sheets

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è —Å Google Sheets

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã:**
- ID —Ç–∞–±–ª–∏—Ü—ã: `1gJ7muzAY00IK82QlMFRu4EaJdrwKw3nizjZ_I0nUe3s` (–∏–∑ —Å—Å—ã–ª–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- –õ–∏—Å—Ç—ã:
  - **"–í—Å—è –æ–±–æ—Ä—É–¥–∫–∞"** - —Å–ø–∏—Å–æ–∫ –≤—Å–µ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è (–ù–æ–º–µ—Ä | –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ | –§–æ—Ç–æ | –°—Ç–∞—Ç—É—Å)
  - **"–ó–∞—è–≤–∫–∏ –Ω–∞ –æ–±–æ—Ä—É–¥–∫—É"** - –≤—Å–µ –∑–∞—è–≤–∫–∏ –Ω–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
  - **"–ò—Å—Ç–æ—Ä–∏—è –æ–±–æ—Ä—É–¥–∫–∏"** - –∏—Å—Ç–æ—Ä–∏—è –≤—ã–¥–∞—á–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
  - **"–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è"** - –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å –∑–∞–Ω—è—Ç–æ—Å—Ç—å—é –ø–æ –¥–∞—Ç–∞–º

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- ‚úÖ `sync_equipment_from_sheets()` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏–∑ Sheets ‚Üí –ë–î
- ‚úÖ `log_equipment_request()` - –∑–∞–ø–∏—Å—å –∑–∞—è–≤–∫–∏ –≤ Sheets
- ‚úÖ `update_request_status()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–∫–∏
- ‚úÖ `_log_to_history()` - –∑–∞–ø–∏—Å—å –≤ –∏—Å—Ç–æ—Ä–∏—é
- ‚úÖ `_update_calendar()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –∑–∞–Ω—è—Ç–æ—Å—Ç–∏
- ‚úÖ `get_booked_dates_from_calendar()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–Ω—è—Ç—ã—Ö –¥–∞—Ç –∏–∑ –∫–∞–ª–µ–Ω–¥–∞—Ä—è

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è/–æ–¥–æ–±—Ä–µ–Ω–∏—è –∑–∞—è–≤–æ–∫

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:**
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ Sheets
- –ü—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏ –∑–∞—è–≤–∫–∏ ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å, –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏—é, –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–ª–µ–Ω–¥–∞—Ä—å
- –í—Å—ë –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Ñ–æ–Ω–µ (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç API)

### 3. API Endpoints

**–ù–æ–≤—ã–µ endpoints:**
```http
# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏–∑ Sheets –≤ –ë–î
POST /api/v1/equipment/sync/from-sheets

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–Ω—è—Ç—ã—Ö –¥–∞—Ç –¥–ª—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
GET /api/v1/equipment/{equipment_id}/booked-dates
```

**–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ endpoints (—É–ª—É—á—à–µ–Ω—ã):**
- `POST /api/v1/equipment/requests` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)
- `POST /api/v1/equipment/requests/{id}/approve` - –æ–¥–æ–±—Ä–µ–Ω–∏–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)

### 4. –£—á—ë—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π API

- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ Batch –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è (–ø–æ 50 –∑–∞–ø—Ä–æ—Å–æ–≤)
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- ‚úÖ Rate limiting —á–µ—Ä–µ–∑ GoogleService

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –õ–∏—Å—Ç "–ó–∞—è–≤–∫–∏ –Ω–∞ –æ–±–æ—Ä—É–¥–∫—É"
–ö–æ–ª–æ–Ω–∫–∏:
1. –ù–æ–º–µ—Ä –∑–∞—è–≤–∫–∏
2. –î–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞
3. –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (—Ñ–æ—Ä–º—É–ª–∞)
4. –ö—Ç–æ –±–µ—Ä—ë—Ç (https://t.me/username - –§–ò–û)
5. –ß—Ç–æ –±–µ—Ä—ë—Ç (—Ñ–æ—Ä–º—É–ª–∞ ='–í—Å—è –æ–±–æ—Ä—É–¥–∫–∞'!CX)
6. –ù–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
7. –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏
8. –î–∞—Ç–∞ —Å—ä—ë–º–∫–∏
9. –î–∞—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞
10. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
11. –°—Ç–∞—Ç—É—Å

### –õ–∏—Å—Ç "–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è"
–°—Ç—Ä—É–∫—Ç—É—Ä–∞:
- –°—Ç—Ä–æ–∫–∞ 1: –ü–µ—Ä–∏–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–î–µ–∫–∞–±—Ä—å 2025 - –ú–∞–π 2026")
- –°—Ç—Ä–æ–∫–∞ 2: –ß–∏—Å–ª–∞ –¥–Ω–µ–π (01, 02, ...)
- –°—Ç—Ä–æ–∫–∞ 3: –î–Ω–∏ –Ω–µ–¥–µ–ª–∏
- –°—Ç—Ä–æ–∫–∞ 4: –ü—É—Å—Ç–∞—è
- –°—Ç—Ä–æ–∫–∏ 5+: –ù–æ–º–µ—Ä –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è | –î–∞—Ç–∞1 | –î–∞—Ç–∞2 | ...

–í —è—á–µ–π–∫–∞—Ö –∫–∞–ª–µ–Ω–¥–∞—Ä—è:
- –ù–æ–º–µ—Ä –∑–∞—è–≤–∫–∏ (–µ—Å–ª–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–æ)
- –ü—É—Å—Ç–æ (–µ—Å–ª–∏ —Å–≤–æ–±–æ–¥–Ω–æ)

## üîÑ –ü–æ—Ç–æ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏:
1. –ó–∞—è–≤–∫–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ –ë–î
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –ª–∏—Å—Ç "–ó–∞—è–≤–∫–∏ –Ω–∞ –æ–±–æ—Ä—É–¥–∫—É"
3. –§–æ—Ä–º—É–ª–∞ –¥–ª—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ batch update
4. –°—Ç–∞—Ç—É—Å: "–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏"

### –û–¥–æ–±—Ä–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏:
1. –°—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –ë–î
2. –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –ª–∏—Å—Ç–µ "–ó–∞—è–≤–∫–∏ –Ω–∞ –æ–±–æ—Ä—É–¥–∫—É"
3. –ó–∞–ø–∏—Å—å –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ "–ò—Å—Ç–æ—Ä–∏—è –æ–±–æ—Ä—É–¥–∫–∏"
4. –ö–∞–ª–µ–Ω–¥–∞—Ä—å –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (–Ω–æ–º–µ—Ä –∑–∞—è–≤–∫–∏ –≤ —è—á–µ–π–∫–∞—Ö –¥–∞—Ç)

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–Ω—è—Ç—ã—Ö –¥–∞—Ç:
1. –ß–∏—Ç–∞—é—Ç—Å—è –¥–∞—Ç—ã –∏–∑ –ë–î (–∑–∞—è–≤–∫–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ pending/approved/active)
2. –ß–∏—Ç–∞—é—Ç—Å—è –¥–∞—Ç—ã –∏–∑ –∫–∞–ª–µ–Ω–¥–∞—Ä—è Google Sheets
3. –û–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
# ID —Ç–∞–±–ª–∏—Ü—ã —Å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–∑ –∫–æ–¥–∞)
GOOGLE_EQUIPMENT_SHEETS_ID=1gJ7muzAY00IK82QlMFRu4EaJdrwKw3nizjZ_I0nUe3s
```

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:**
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ Sheets (polling –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ Sheets
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –∑–∞–Ω—è—Ç–æ—Å—Ç–∏

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –±–æ—Ç:**
   - –ö–æ–º–∞–Ω–¥–∞ `/equipment` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
   - –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–∫–∏ —á–µ—Ä–µ–∑ –±–æ—Ç (FSM)
   - –ö–∞–ª–µ–Ω–¥–∞—Ä—å –≤—ã–±–æ—Ä–∞ –¥–∞—Ç —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∑–∞–Ω—è—Ç–æ—Å—Ç–∏

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–∞ —Å–∞–π—Ç–µ:**
   - –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
   - –ö–∞–ª–µ–Ω–¥–∞—Ä—å –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ (–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è)
   - –§–æ—Ä–º–∞ –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–∫–∏
   - –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ú–æ–∏ –∑–∞—è–≤–∫–∏"

4. **–£–ª—É—á—à–µ–Ω–∏—è:**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
   - –°–≤—è–∑—å –∑–∞—è–≤–∫–∏ —Å –∑–∞–¥–∞—á–µ–π (—É–∂–µ –µ—Å—Ç—å –ø–æ–ª–µ `task_id`)
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞—è–≤–∫–∞—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞–º
   - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –≤–æ–∑–≤—Ä–∞—Ç–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
