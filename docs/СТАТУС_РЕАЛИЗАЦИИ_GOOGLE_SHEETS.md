# –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Google Sheets –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. Google Sheets —Ç–∞–±–ª–∏—Ü–∞ —Ç–∞–π–º–ª–∞–π–Ω–∞ –∑–∞–¥–∞—á

**–§–∞–π–ª:** `backend/app/services/sheets_sync.py`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã "BEST PR System - –¢–∞–π–º–ª–∞–π–Ω—ã" –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏—Å—Ç–æ–≤: "–û–±—â–∏–π", "SMM", "Design", "Channel", "PR-FR"
- ‚úÖ –ì–∏–ø–µ—Ä—Å—Å—ã–ª–∫–∏ –Ω–∞ –∑–∞–¥–∞—á–∏: `=HYPERLINK("https://best-pr-system.up.railway.app/tasks/{task_id}"; "{task_title}")`
- ‚úÖ –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø–∞–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–æ–≤:
  - **SMM**: –∑–µ–ª—ë–Ω—ã–π (#4CAF50)
  - **Design**: —Å–∏–Ω–∏–π (#2196F3)
  - **Channel**: –æ—Ä–∞–Ω–∂–µ–≤—ã–π (#FF9800)
  - **PR-FR**: —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π (#9C27B0)
- ‚úÖ –¶–≤–µ—Ç–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–¥–∞—á (draft, open, assigned, in_progress, review, completed, cancelled)
- ‚úÖ –¶–≤–µ—Ç–∞ —ç—Ç–∞–ø–æ–≤ (–∏–∑ –ø–æ–ª—è `status_color`: green, yellow, red, purple, blue)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ–¥–ª–∞–π–Ω–æ–≤ —Å –∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º –¥–ª—è –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç—Ç–∞–ø–æ–≤ —Å —ç–º–æ–¥–∑–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ (‚úÖ –∑–∞–≤–µ—Ä—à—ë–Ω, üîÑ –≤ —Ä–∞–±–æ—Ç–µ, ‚è≥ –æ–∂–∏–¥–∞–µ—Ç)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã:**
```
–î–∞—Ç–∞ | –ó–∞–¥–∞—á–∞ 1 | –ó–∞–¥–∞—á–∞ 2 | ...
01.01 | üìÖ –î–µ–¥–ª–∞–π–Ω | üü¢ ‚úÖ –≠—Ç–∞–ø 1
02.01 | üü° üîÑ –≠—Ç–∞–ø 2 | 
...
```

### 2. Google Drive —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤

**–§–∞–π–ª:** `backend/app/services/drive_structure.py`

**–°–æ–∑–¥–∞–≤–∞–µ–º—ã–µ –ø–∞–ø–∫–∏:**
- ‚úÖ `Task Templates/` - –æ—Å–Ω–æ–≤–Ω–∞—è –ø–∞–ø–∫–∞ –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤
- ‚úÖ `Task Templates/SMM/` - —à–∞–±–ª–æ–Ω—ã –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞ SMM
- ‚úÖ `Task Templates/Design/` - —à–∞–±–ª–æ–Ω—ã –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞ Design
- ‚úÖ `Task Templates/Channel/` - —à–∞–±–ª–æ–Ω—ã –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞ Channel
- ‚úÖ `Task Templates/PR-FR/` - —à–∞–±–ª–æ–Ω—ã –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞ PR-FR
- ‚úÖ `Task Templates/VP4PR/` - —à–∞–±–ª–æ–Ω—ã –¥–ª—è VP4PR

**–ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è:** –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Google Drive —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –≤ production)

### 3. –°–∏—Å—Ç–µ–º–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –∑–∞–¥–∞—á

**–§–∞–π–ª:** `backend/scripts/create_system_templates.py`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –≤ –ë–î (—Ç–∞–±–ª–∏—Ü–∞ `task_templates`)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –Ω–∞ Google Drive –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–∞–ø–∫–∞—Ö –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

**–®–∞–±–ª–æ–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è:**
- Coordinator SMM
- Coordinator Design
- Coordinator Channel
- Coordinator PR-FR
- VP4PR

## üî¥ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: SheetsSyncService —Å–æ–∑–¥–∞–≤–∞–ª—Å—è –±–µ–∑ google_service
**–ë—ã–ª–æ:** `SheetsSyncService()`  
**–°—Ç–∞–ª–æ:** `SheetsSyncService(GoogleService())`  
**–§–∞–π–ª:** `backend/app/main.py:139`

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –¢–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–≤–∞–ª–∞—Å—å, –Ω–æ –Ω–µ –∑–∞–ø–æ–ª–Ω—è–ª–∞—Å—å –¥–∞–Ω–Ω—ã–º–∏
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ –ª–æ–≥–∞—Ö –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–∑–æ–≤–∞ endpoint —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—Ä—É—á–Ω—É—é

### 1. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É —Ç–∞–π–º–ª–∞–π–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã –Ω—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å endpoint —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:

```bash
POST /api/v1/calendar/sync/sheets?month=1&year=2026&role=all
```

–ò–ª–∏ —á–µ—Ä–µ–∑ curl:
```bash
curl -X POST "https://best-pr-api.up.railway.app/api/v1/calendar/sync/sheets?month=1&year=2026&role=all" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `month` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –º–µ—Å—è—Ü –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (1-12), –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–µ–∫—É—â–∏–π
- `year` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –≥–æ–¥ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–µ–∫—É—â–∏–π
- `role` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Ä–æ–ª—å –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: `smm`, `design`, `channel`, `prfr`, `all` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `statuses` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –∑–∞–¥–∞—á

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ:
```
üìã –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –∑–∞–¥–∞—á...
‚úÖ –°–æ–∑–¥–∞–Ω —Å–∏—Å—Ç–µ–º–Ω—ã–π —à–∞–±–ª–æ–Ω: –ü–æ—Å—Ç –≤ —Å–æ—Ü—Å–µ—Ç–∏
‚úÖ –°–æ—Ö—Ä–∞–Ω—ë–Ω —à–∞–±–ª–æ–Ω '–ü–æ—Å—Ç –≤ —Å–æ—Ü—Å–µ—Ç–∏' –Ω–∞ Google Drive: {file_id}
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î:
```sql
SELECT COUNT(*) FROM task_templates WHERE is_system = true;
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Google Drive:
- –û—Ç–∫—Ä—ã—Ç—å –ø–∞–ø–∫—É "BEST PR System" ‚Üí "Task Templates"
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –ø–æ–¥–ø–∞–ø–æ–∫ –∏ JSON —Ñ–∞–π–ª–æ–≤ —à–∞–±–ª–æ–Ω–æ–≤

## üìã –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

- [ ] –¢–∞–±–ª–∏—Ü–∞ "BEST PR System - –¢–∞–π–º–ª–∞–π–Ω—ã" —Å–æ–∑–¥–∞–Ω–∞ –Ω–∞ Google Drive
- [ ] –õ–∏—Å—Ç—ã "–û–±—â–∏–π", "SMM", "Design", "Channel", "PR-FR" —Å–æ–∑–¥–∞–Ω—ã
- [ ] –ü–∞–ø–∫–∞ "Task Templates" —Å–æ–∑–¥–∞–Ω–∞
- [ ] –ü–æ–¥–ø–∞–ø–∫–∏ –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–æ–≤ —Å–æ–∑–¥–∞–Ω—ã
- [ ] –°–∏—Å—Ç–µ–º–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã —Å–æ–∑–¥–∞–Ω—ã –≤ –ë–î
- [ ] –®–∞–±–ª–æ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –Ω–∞ Google Drive
- [ ] –¢–∞–±–ª–∏—Ü–∞ —Ç–∞–π–º–ª–∞–π–Ω–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ (–ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏)

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- Endpoint —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: `POST /api/v1/calendar/sync/sheets`
- Endpoint –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è: `GET /api/v1/calendar`
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API: `https://best-pr-api.up.railway.app/docs`

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. –¢–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –≤ production
2. –®–∞–±–ª–æ–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ (–µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç –≤ –ë–î)
3. –î–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã –¥–∞–Ω–Ω—ã–º–∏ –Ω—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å endpoint —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
4. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑ –≤ –¥–µ–Ω—å)
