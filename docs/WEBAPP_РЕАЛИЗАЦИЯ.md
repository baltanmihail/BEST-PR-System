# ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram WebApp SDK

**–§–∞–π–ª:** `frontend/index.html`
- –î–æ–±–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç Telegram WebApp SDK: `<script src="https://telegram.org/js/telegram-web-app.js"></script>`

### 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WebApp

**–§–∞–π–ª:** `frontend/src/App.tsx`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `tg.ready()` –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è Telegram –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `tg.expand()` –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–µ–º—ã WebApp —Å —Ç–µ–º–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Ç—ë–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è)

### 3. –ö–Ω–æ–ø–∫–∏ WebApp –≤ –±–æ—Ç–µ

**–§–∞–π–ª:** `backend/bot/handlers.py`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ —Å `WebAppInfo` –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ WebApp
- –ö–Ω–æ–ø–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö:
  - –ü—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ QR-–∫–æ–¥–∞ –Ω–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
  - –í –º–µ–Ω—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  - –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ WebApp

**–§–∞–π–ª:** `frontend/src/pages/Register.tsx`
- –£–∂–µ –±—ã–ª–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Telegram WebApp
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `window.Telegram.WebApp.initDataUnsafe` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è hash –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É –≤ –±–æ—Ç–µ** —Å `WebAppInfo`
2. **Telegram –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç WebApp** –≤ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
3. **–§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç WebApp:**
   - –í—ã–∑—ã–≤–∞–µ—Ç `tg.ready()`
   - –†–∞—Å—à–∏—Ä—è–µ—Ç –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω (`tg.expand()`)
   - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ç–µ–º—É
4. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏**
5. **–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã:**
   - –ü–æ–ª—É—á–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ `tg.initDataUnsafe.user`
   - –ò–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è hash –∏–∑ `tg.initData`
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å –Ω–∞ `/registration/register`
6. **–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Ö–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º—É
   - –ü–æ–ª—É—á–∞–µ—Ç `access_token`
   - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

## –ü—Ä–æ–≤–µ—Ä–∫–∞

1. –û—Ç–∫—Ä–æ–π –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É "üåê –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è (WebApp)"
3. –î–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Telegram
4. –ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
5. –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥

## –í–∞–∂–Ω–æ

- WebApp —Ä–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ Telegram**
- –î–ª—è —Ä–∞–±–æ—Ç—ã –Ω—É–∂–µ–Ω **–≤–∞–ª–∏–¥–Ω—ã–π hash** –æ—Ç Telegram
- –¢–µ–º–∞ WebApp —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å —Ç–µ–º–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- WebApp –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

---

**–î–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** 2025-01-09
