# üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ WebApp

## –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: 2025-01-09

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ **Telegram WebApp** - —Ñ–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä—è–º–æ –≤ Telegram –±–µ–∑ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –±—Ä–∞—É–∑–µ—Ä.

## –°–ø–æ—Å–æ–±—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### 1. –ß–µ—Ä–µ–∑ Telegram WebApp (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚≠ê
- **–ì–¥–µ:** –ö–Ω–æ–ø–∫–∞ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è (WebApp)" –≤ –±–æ—Ç–µ
- **–ö–∞–∫:** –ù–∞–∂–∏–º–∞–µ—à—å –∫–Ω–æ–ø–∫—É ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —É–¥–æ–±–Ω–∞—è —Ñ–æ—Ä–º–∞ –ø—Ä—è–º–æ –≤ Telegram
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
  - –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—Ç—Å—è –∏–∑ Telegram
  - –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä
  - –ë—ã—Å—Ç—Ä–æ –∏ —É–¥–æ–±–Ω–æ
  - –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —Å Telegram

### 2. –ß–µ—Ä–µ–∑ QR-–∫–æ–¥
- **–ì–¥–µ:** –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/login` –Ω–∞ —Å–∞–π—Ç–µ
- **–ö–∞–∫:** 
  1. –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π QR-–∫–æ–¥ —á–µ—Ä–µ–∑ –±–æ—Ç–∞
  2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏ –≤ –±–æ—Ç–µ
  3. –í—ã–±–µ—Ä–∏ —Å–ø–æ—Å–æ–± —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–≤ –±–æ—Ç–µ –∏–ª–∏ —á–µ—Ä–µ–∑ WebApp)
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
  - –†–∞–±–æ—Ç–∞–µ—Ç —Å –¥—Ä—É–≥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
  - –£–¥–æ–±–Ω–æ –¥–ª—è –≤—Ö–æ–¥–∞ —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞

### 3. –ß–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Ñ–æ—Ä–º—É –≤ –±–æ—Ç–µ
- **–ì–¥–µ:** –ö–æ–º–∞–Ω–¥–∞ `/register` –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –±–æ—Ç–µ"
- **–ö–∞–∫:** –í–≤–æ–¥–∏—à—å –§–ò–û –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—à—å —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –ø—Ä—è–º–æ –≤ –±–æ—Ç–µ
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
  - –ù–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è —Å–∞–π—Ç–∞
  - –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –Ω–∞ —Å–∞–π—Ç–µ

## –ì–¥–µ –æ–±–Ω–æ–≤–ª–µ–Ω–æ

### –ë–æ—Ç (`backend/bot/handlers.py`)

1. **–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ `/start` –¥–ª—è –Ω–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö:**
   - –û–±–Ω–æ–≤–ª—ë–Ω —Ç–µ–∫—Å—Ç: —Ç–µ–ø–µ—Ä—å —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è WebApp –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–±
   - –ö–Ω–æ–ø–∫–∞ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è (WebApp)" - –æ—Å–Ω–æ–≤–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç

2. **QR –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–ª—è –Ω–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö:**
   - –ö–Ω–æ–ø–∫–∞ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å–∞–π—Ç–µ" –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è (WebApp)"
   - –û–±–Ω–æ–≤–ª—ë–Ω —Ç–µ–∫—Å—Ç —Å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º WebApp

3. **–û—Ç–∫–ª–æ–Ω—ë–Ω–Ω–∞—è –∑–∞—è–≤–∫–∞:**
   - –£–∂–µ –±—ã–ª–∞ –∫–Ω–æ–ø–∫–∞ WebApp - –æ—Å—Ç–∞–≤–ª–µ–Ω–∞
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ fallback –∫–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ"

4. **–û—Ç–º–µ–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ WebApp –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### Frontend

1. **Register.tsx:**
   - –û–±–Ω–æ–≤–ª—ë–Ω —Ç–µ–∫—Å—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è - —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è WebApp
   - –£–ª—É—á—à–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ –≤ Telegram
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Å–∫–∞–∑–∫–∏ –æ WebApp

2. **Login.tsx:**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∞ –æ WebApp —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ—Å–ª–µ QR

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

1. **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø_QR_–†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø.md:**
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã –æ–ø–∏—Å–∞–Ω–∏—è —Å–ø–æ—Å–æ–±–æ–≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ WebApp —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –±–æ—Ç–∞
1. –í–∏–¥–∏—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Å–∏—Å—Ç–µ–º—ã
2. –ù–∞–∂–∏–º–∞–µ—Ç "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è (WebApp)"
3. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ñ–æ—Ä–º–∞ –ø—Ä—è–º–æ –≤ Telegram
4. –í—Å–µ –¥–∞–Ω–Ω—ã–µ —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
5. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è
6. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–∞–π—Ç (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∫–∞–Ω–∏—Ä—É–µ—Ç QR-–∫–æ–¥
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–∞–π—Ç –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
2. –í–∏–¥–∏—Ç QR-–∫–æ–¥
3. –°–∫–∞–Ω–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ
4. –ë–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –±–æ—Ç–µ (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞)
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ WebApp (—É–¥–æ–±–Ω–∞—è —Ñ–æ—Ä–º–∞)
5. –í—ã–±–∏—Ä–∞–µ—Ç —É–¥–æ–±–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
6. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–π—Ç–µ

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ WebApp

- ‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ:** –§–æ—Ä–º–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä—è–º–æ –≤ Telegram
- ‚úÖ **–°–∫–æ—Ä–æ—Å—Ç—å:** –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä
- ‚úÖ **–ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ:** –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ Telegram —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
- ‚úÖ **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å:** –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- ‚úÖ **UX:** –ü–ª–∞–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `WebAppInfo` –¥–ª—è –∫–Ω–æ–ø–æ–∫ –≤ –±–æ—Ç–µ
- WebApp –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ `window.Telegram.WebApp`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ fallback –Ω–∞ –æ–±—ã—á–Ω—ã–π URL –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π Telegram
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WebApp –≤ `App.tsx`

---

**–í–∞–∂–Ω–æ:** WebApp - —ç—Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–± —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –Ω–æ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã (QR, –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞) –æ—Å—Ç–∞—é—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
